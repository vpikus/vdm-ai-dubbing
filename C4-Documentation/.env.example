# YT-DLP Downloader Environment Configuration
# Copy this file to .env and customize for your deployment

# ============================================================
# Redis Configuration
# ============================================================
# IMPORTANT: Change this to a strong random password before deployment!
REDIS_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# ============================================================
# Gateway Configuration
# ============================================================
LOG_LEVEL=info
JWT_SECRET=change-me-in-production-use-strong-random-string

# ============================================================
# Media Storage
# ============================================================
# Root directory for media files (inside containers)
# External mount point can be configured in docker-compose.yml volumes
MEDIA_ROOT=/app/media

# ============================================================
# Downloader Configuration
# ============================================================
# Optional HTTP/HTTPS/SOCKS proxy for downloads
DOWNLOADER_PROXY=

# ============================================================
# Dubber Configuration
# ============================================================
# Target language for dubbing (ISO 639-1 code: ru, en, es, de, fr, etc.)
TARGET_LANG=ru

# Number of concurrent dubbing workers (2-4 recommended based on API limits)
DUBBING_CONCURRENCY=2

# Number of dubbing worker replicas to run
DUBBING_WORKERS=2

# Optional VOT API key if required by the service
VOT_API_KEY=

# ============================================================
# Muxer Configuration
# ============================================================
# Default output container format (mkv, mp4, webm)
DEFAULT_CONTAINER=mkv

# Volume ducking level for original audio during dubbed speech (0.0-1.0)
# 0.3 = reduce original to 30% volume
DUCKING_LEVEL=0.3

# Audio normalization target in LUFS (Loudness Units Full Scale)
# -18.0 is standard for broadcast, -16.0 for streaming
NORMALIZATION_LUFS=-18.0

# Number of concurrent muxing workers (1-2 recommended, CPU-bound)
MUXING_CONCURRENCY=1

# ============================================================
# Advanced Configuration
# ============================================================
# Maximum retry attempts for failed jobs
MAX_RETRIES=3

# Redis connection URL (constructed from components above)
# REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379
